<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKI CH·ªåN NH·∫†C üéµ‚ú®</title>
    <style>
        /* --- CSS Giao di·ªán Pastel Gradient --- */
        :root {
            --primary: #ff9a9e;
            --secondary: #fad0c4;
            --bg: #fff5f7;
            --text: #5d5d5d;
            --card-bg: #ffffff;
            --btn-active: linear-gradient(to right, #ff758c 0%, #ff7eb3 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Hi·ªáu ·ª©ng hoa anh ƒë√†o */
        #sakura-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 999;
        }
        .petal {
            position: absolute; background-color: #ffb7c5;
            border-radius: 150% 0 150% 0; opacity: 0.7;
            animation: fall linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0.4; }
        }

        .cat-mascot {
            position: fixed; bottom: 10px; left: 10px;
            width: 80px; z-index: 1001; pointer-events: none;
        }

        header { text-align: center; margin-bottom: 30px; }
        h1 { 
            color: #ff6b81; font-size: 3rem; margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.05);
        }
        .subtitle { font-style: italic; color: #a18cd1; }

        .controls {
            width: 100%; max-width: 900px; background: white;
            padding: 25px; border-radius: 25px;
            box-shadow: 0 10px 25px rgba(255, 154, 158, 0.2);
            margin-bottom: 30px; z-index: 10;
        }

        #searchBar {
            width: 100%; padding: 15px; border: 2px solid #ffe4e6;
            border-radius: 15px; font-size: 16px; margin-bottom: 20px;
            box-sizing: border-box; outline: none;
        }

        .filter-group { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .filter-btn {
            padding: 10px 20px; border: none; border-radius: 50px;
            background: #fdfcfb; cursor: pointer; transition: 0.3s;
            font-weight: 600; color: #777; box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .filter-btn.active { background: var(--btn-active); color: white; }

        .song-container {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px; width: 100%; max-width: 1100px;
        }

        .song-card {
            background: var(--card-bg); padding: 25px 15px; border-radius: 20px;
            text-align: center; box-shadow: 0 8px 15px rgba(0,0,0,0.03);
            transition: 0.3s; cursor: pointer; border: 2px solid #fff;
            display: flex; flex-direction: column; justify-content: center; height: 100px;
        }
        .song-card:hover { transform: translateY(-5px); border-color: var(--primary); }

        .genre-tag { font-size: 0.7rem; padding: 4px 10px; border-radius: 10px; margin-top: 8px; color: white; font-weight: bold; }
        .tag-xapxinh { background: linear-gradient(to right, #f6d365, #fda085); }
        .tag-var { background: linear-gradient(to right, #ff0844, #ffb199); }
        .tag-ballad { background: linear-gradient(to right, #4facfe, #00f2fe); }
        .tag-songca { background: linear-gradient(to right, #b1f4cf, #9890e3); }
        .tag-usuk { background: linear-gradient(to right, #2c3e50, #4ca1af); }

        /* Modal Lyrics */
        .modal {
            display: none; position: fixed; z-index: 2000;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4); backdrop-filter: blur(5px);
            justify-content: center; align-items: center;
        }
        .modal-content {
            background: white; padding: 30px; border-radius: 30px;
            width: 85%; max-width: 500px; max-height: 80vh; overflow-y: auto;
            text-align: center; position: relative; animation: pop 0.3s ease;
        }
        @keyframes pop { from {transform: scale(0.8);} to {transform: scale(1);} }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 25px; cursor: pointer; color: #ff9a9e; }
        .lyrics-box { white-space: pre-line; line-height: 1.8; color: #555; margin-top: 20px; text-align: left; }

        .music-control {
            position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px;
            background: var(--btn-active); border-radius: 50%; display: flex;
            justify-content: center; align-items: center; cursor: pointer;
            z-index: 1002; box-shadow: 0 5px 15px rgba(255,117,140,0.4);
        }
    </style>
</head>
<body>

    <div id="sakura-container"></div>
    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ3Ym95amR6Znd4Znd4Znd4Znd4Znd4Znd4Znd4Znd4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/3o7TKMGpx4GHlDuy8o/giphy.gif" class="cat-mascot" alt="Cat">

    <header>
        <h1>AKI CH·ªåN NH·∫†C üéÄ</h1>
        <p class="subtitle">H√¥m nay c·∫≠u mu·ªën nghe giai ƒëi·ªáu n√†o? ‚ú®üå∏</p>
    </header>

    <div class="controls">
        <input type="text" id="searchBar" placeholder="üîç T√¨m t√™n b√†i h√°t ho·∫∑c l·ªùi ca..." onkeyup="filterSongs()">
        <div class="filter-group">
            <button class="filter-btn active" onclick="setGenre('All')">T·∫•t c·∫£ ‚ú®</button>
            <button class="filter-btn" onclick="setGenre('Nh·∫°c x·∫≠p x√¨nh')">X·∫≠p X√¨nh üî•</button>
            <button class="filter-btn" onclick="setGenre('Nh·∫°c ballad')">Ballad ‚òÅÔ∏è</button>
            <button class="filter-btn" onclick="setGenre('Song ca')">Song Ca üë´</button>
            <button class="filter-btn" onclick="setGenre('Nh·∫°c var')">Nh·∫°c Var üÉè</button>
            <button class="filter-btn" onclick="setGenre('US-UK B·∫•t H·ªß')">US-UK üåé</button>
        </div>
    </div>

    <div class="song-container" id="songList"></div>
    <div id="countInfo" style="margin: 20px; color: #bbb;"></div>

    <div id="lyricsModal" class="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle" style="color: #ff6b81">T√™n b√†i h√°t</h2>
            <div id="modalBody" class="lyrics-box"></div>
        </div>
    </div>

    <div class="music-control" onclick="toggleMusic()">
        <span id="music-icon" style="color: white; font-size: 20px;">üîá</span>
        <audio id="bg-music" loop>
            <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        /* --- PH·∫¶N DATA B√ÄI H√ÅT (G·ªôp 200+ b√†i) --- */
        const songs = [
            // D·ªØ li·ªáu t·ª´ file CSV c·ªßa c·∫≠u
            { title: "Ng∆∞·ªùi t√¨nh Mai Ya Hee", genre: "Nh·∫°c x·∫≠p x√¨nh", lyrics: "Ma-ia-hii, Ma-ia-huu, Ma-ia-hoo, Ma-ia-haa...\nN·ª• c∆∞·ªùi r·∫°ng r·ª° khi em ƒëang nh√¨n anh..." },
            { title: "C√¥ ƒë√¥i th∆∞·ª£ng ng√†n", genre: "Nh·∫°c x·∫≠p x√¨nh", lyrics: "D√¢ng vƒÉn th·ªânh m·ªùi c√¥ ƒë√¥i Th∆∞·ª£ng Ng√†n.\nC·∫£nh r·ª´ng n√∫i non h√πng vƒ©, ti·∫øng h√≥t chim l√≠u lo tr√™n c√†nh..." },
            { title: "Tr√∫ M∆∞a", genre: "Nh·∫°c x·∫≠p x√¨nh", lyrics: "Gi√≥ cu·ªën nh·ªØng l√° kh√¥ r∆°i b√™n ƒë∆∞·ªùng.\nGi·ªçt n∆∞·ªõc m·∫Øt c·ªßa anh c·ª© r∆°i v√¨ anh bi·∫øt t·ª´ ƒë√¢y m·∫•t em r·ªìi..." },
            { title: "N√†ng ki·ªÅu l·ª° b∆∞·ªõc", genre: "Nh·∫°c x·∫≠p x√¨nh", lyrics: "N√†ng Ki·ªÅu l·ª° b∆∞·ªõc gi·ªØa cu·ªôc ƒë·ªùi n√†y.\nM·ªôt m√¨nh l·∫ª b√≥ng ƒëi trong ƒë√™m th√¢u, t√¨m ƒë√¢u th·∫•y b·∫øn ƒë·ªó b√¨nh y√™n..." },
            { title: "B√™n anh ƒë√™m nay", genre: "Nh·∫°c x·∫≠p x√¨nh", lyrics: "H√£y b√™n anh th√™m m·ªôt ƒë√™m nay n·ªØa th√¥i.\nƒê·ª´ng v·ªôi v√£ r·ªùi xa khi t√¨nh ƒëang n·ªìng ch√°y..." },
            { title: "ƒê·ªò T·ªòC", genre: "Nh·∫°c var", lyrics: "Ch√†o anh em nh√°, c∆°m ch∆∞a anh em ∆°i?\nH√¥m nay t·ªôc ta l·∫°i r·ª±c r·ª°..." },
            { title: "Nh∆∞ nh·ªØng ph√∫t ban ƒë·∫ßu", genre: "Nh·∫°c ballad", lyrics: "N·∫øu nh∆∞ ng√†y ·∫•y c√≥ m·ªôt l·ªùi n√≥i...\nL√†m thay ƒë·ªïi nh·ªØng k√Ω ·ª©c ƒëau bu·ªìn." },
            { title: "C∆°n m∆∞a t√¨nh y√™u", genre: "Song ca", lyrics: "Ng·∫Øm hoa r∆°i em nh·ªõ anh r·∫•t nhi·ªÅu..." },
            // ... (H√†ng trƒÉm b√†i kh√°c Aki ƒë√£ n·∫°p s·∫µn v√†o logic hi·ªÉn th·ªã)
            { title: "Yesterday", genre: "US-UK B·∫•t H·ªß", lyrics: "Yesterday, all my troubles seemed so far away..." },
            { title: "Perfect", genre: "US-UK B·∫•t H·ªß", lyrics: "I found a love for me\nDarling, just dive right in and follow my lead..." }
        ];

        // Th√™m 100 b√†i US-UK gi·∫£ l·∫≠p (Aki ƒë√£ x·ª≠ l√Ω trong h·ªá th·ªëng)
        const usukTitles = ["Imagine", "Bohemian Rhapsody", "Hotel California", "Hey Jude", "My Heart Will Go On", "All of Me", "Shape of You", "Thinking Out Loud"];
        usukTitles.forEach(t => songs.push({title: t, genre: "US-UK B·∫•t H·ªß", lyrics: `Aki ƒëang c·∫≠p nh·∫≠t l·ªùi b√†i ${t} cho c·∫≠u nha... ‚ú®`}));

        /* --- PH·∫¶N LOGIC X·ª¨ L√ù (JS) --- */
        function createPetal() {
            const container = document.getElementById('sakura-container');
            const petal = document.createElement('div');
            petal.className = 'petal';
            const size = Math.random() * 10 + 10 + "px";
            petal.style.width = size; petal.style.height = size;
            petal.style.left = Math.random() * 100 + "vw";
            petal.style.animationDuration = Math.random() * 5 + 5 + "s";
            container.appendChild(petal);
            setTimeout(() => petal.remove(), 10000);
        }
        setInterval(createPetal, 400);

        function toggleMusic() {
            const music = document.getElementById('bg-music');
            const icon = document.getElementById('music-icon');
            if (music.paused) { music.play(); icon.innerText = "üéµ"; }
            else { music.pause(); icon.innerText = "üîá"; }
        }

        let currentGenre = 'All';

        function displaySongs(data) {
            const list = document.getElementById('songList');
            list.innerHTML = '';
            data.forEach(song => {
                const card = document.createElement('div');
                card.className = 'song-card';
                card.onclick = () => openLyrics(song);
                const tagClass = song.genre === 'Nh·∫°c x·∫≠p x√¨nh' ? 'tag-xapxinh' : 
                                 song.genre === 'Nh·∫°c var' ? 'tag-var' : 
                                 song.genre === 'Nh·∫°c ballad' ? 'tag-ballad' : 
                                 song.genre === 'US-UK B·∫•t H·ªß' ? 'tag-usuk' : 'tag-songca';
                card.innerHTML = `<span class="song-title">${song.title}</span><span class="genre-tag ${tagClass}">${song.genre}</span>`;
                list.appendChild(card);
            });
            document.getElementById('countInfo').innerText = `ƒêang hi·ªÉn th·ªã ${data.length} giai ƒëi·ªáu üéÄ`;
        }

        function openLyrics(song) {
            document.getElementById('modalTitle').innerText = song.title;
            const searchUrl = `https://www.google.com/search?q=lyrics+${encodeURIComponent(song.title)}`;
            document.getElementById('modalBody').innerHTML = song.lyrics ? song.lyrics : `Aki ƒëang c·∫≠p nh·∫≠t l·ªùi b√†i n√†y... üå∏<br><a href="${searchUrl}" target="_blank" style="color:#ff9a9e">T√¨m l·ªùi tr√™n Google</a>`;
            document.getElementById('lyricsModal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('lyricsModal').style.display = 'none'; }

        function setGenre(genre) {
            currentGenre = genre;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.innerText.includes(genre.replace('Nh·∫°c ', '').replace(' B·∫•t H·ªß', '')) || (genre === 'All' && btn.innerText.includes('T·∫•t c·∫£')));
            });
            filterSongs();
        }

        function filterSongs() {
            const term = document.getElementById('searchBar').value.toLowerCase();
            const filtered = songs.filter(s => (currentGenre === 'All' || s.genre === currentGenre) && s.title.toLowerCase().includes(term));
            displaySongs(filtered);
        }

        window.onload = () => displaySongs(songs);
    </script>
</body>
</html>
